// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    return $("button").on("click", function(e) {
      var accept, id, name, obj, request, value, _ref;
      e.preventDefault();
      _ref = $(this).parent().serializeArray(), id = _ref[0], name = _ref[1], value = _ref[2];
      accept = $(this).hasClass('accept');
      obj = {
        id: id.value,
        name: name.value,
        value: value.value,
        accept: accept
      };
      request = $.ajax({
        type: "POST",
        url: "" + window.location.pathname,
        data: obj
      });
      request.done(function() {
        console.log("success");
        $(e.currentTarget).parent().html('Thank you!');
        return setTimeout(function() {
          return $(e.currentTarget).animate({
            height: 0,
            opacity: 0
          });
        }, 2000);
      });
      request.fail(function() {
        return console.log("fail");
      });
      return request.always(function() {
        return console.log("always");
      });
    });
  });

}).call(this);
